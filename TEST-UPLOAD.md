# üì§ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ë–î

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏ FAQ –∏–∑ Excel

### 1Ô∏è‚É£ –ß–µ—Ä–µ–∑ UI (Frontend)

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Ä–µ–∂–∏–º:**
```bash
./start-dev.sh
```

2. **–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
```
http://localhost:5173
```

3. **–ü–µ—Ä–µ–π—Ç–∏ –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
   - –ù–∞–∂–∞—Ç—å –Ω–∞ –∏–∫–æ–Ω–∫—É ‚öôÔ∏è –≤ –º–µ–Ω—é
   - –ò–ª–∏ –æ—Ç–∫—Ä—ã—Ç—å: `http://localhost:5173/settings`

4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å API:**
   - API Base URL: `http://localhost:8080`
   - –ù–∞–∂–∞—Ç—å "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"

5. **–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª:**
   - –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–ó–∞–≥—Ä—É–∑–∏—Ç—å –ë–î (Excel)"
   - –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª: `smart_support_vtb_belarus_faq_final (2).xlsx`
   - –î–æ–∂–¥–∞—Ç—å—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è: ‚úÖ "–£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ 201 –∑–∞–ø–∏—Å–µ–π –∏–∑ —Ñ–∞–π–ª–∞..."

### 2Ô∏è‚É£ –ß–µ—Ä–µ–∑ curl (Backend –Ω–∞–ø—Ä—è–º—É—é)

```bash
curl -X POST \
  -F "file=@smart_support_vtb_belarus_faq_final (2).xlsx" \
  http://localhost:8080/api/v1/faq/import
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
```json
{"status":"ok","inserted":201}
```

### 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

**Frontend –ª–æ–≥–∏ (–µ—Å–ª–∏ –æ—à–∏–±–∫–∞):**
```bash
docker-compose -f docker-compose.dev.yml logs -f frontend
```

**Backend –ª–æ–≥–∏:**
```bash
docker-compose -f docker-compose.dev.yml logs -f backend
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:**
- F12 ‚Üí Console
- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏:
  - "Upload error:" (–µ—Å–ª–∏ –æ—à–∏–±–∫–∞)
  - "JSON parse error:" (–µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º)

### 4Ô∏è‚É£ –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

#### ‚ùå "Failed to execute 'json' on 'Response': Unexpected end of JSON input"

**–ü—Ä–∏—á–∏–Ω–∞:** Backend –≤–µ—Ä–Ω—É–ª –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –∏–ª–∏ –Ω–µ-JSON

**–†–µ—à–µ–Ω–∏–µ:** 
‚úÖ –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ! –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `response.text()` ‚Üí `JSON.parse()`

---

#### ‚ùå "–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π"

**–ü—Ä–∏—á–∏–Ω–∞:** –§–∞–π–ª –±–æ–ª—å—à–µ 10 –ú–ë

**–†–µ—à–µ–Ω–∏–µ:** 
- –°–∂–∞—Ç—å Excel —Ñ–∞–π–ª
- –£–¥–∞–ª–∏—Ç—å –ª–∏—à–Ω–∏–µ —Å—Ç–æ–ª–±—Ü—ã/—Å—Ç—Ä–æ–∫–∏
- –†–∞–∑–±–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤

---

#### ‚ùå CORS –æ—à–∏–±–∫–∞

**–ü—Ä–∏—á–∏–Ω–∞:** Frontend –∏ Backend –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –¥–æ–º–µ–Ω–∞—Ö

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
curl -I http://localhost:8080/api/v1/health/scibox
```

**–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫:**
```
Access-Control-Allow-Origin: *
```

---

#### ‚ùå Backend –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
docker-compose -f docker-compose.dev.yml ps backend
```

**–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫:**
```bash
docker-compose -f docker-compose.dev.yml restart backend
docker-compose -f docker-compose.dev.yml logs -f backend
```

---

### 5Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î

**–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL:**
```bash
docker-compose -f docker-compose.dev.yml exec db psql -U postgres -d support
```

**SQL –∑–∞–ø—Ä–æ—Å—ã:**
```sql
-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
SELECT COUNT(*) FROM faq_items;

-- –ü–µ—Ä–≤—ã–µ 5 –∑–∞–ø–∏—Å–µ–π
SELECT id, question, answer, category FROM faq_items LIMIT 5;

-- –í—ã—Ö–æ–¥
\q
```

---

## ‚úÖ –£—Å–ø–µ—à–Ω—ã–π —Ç–µ—Å—Ç

–ï—Å–ª–∏ –≤—Å—ë –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ, –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

1. ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ 201 –∑–∞–ø–∏—Å–µ–π –∏–∑ —Ñ–∞–π–ª–∞..."
2. ‚úÖ –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–µ—Ç –æ—à–∏–±–æ–∫
3. ‚úÖ –í –ª–æ–≥–∞—Ö backend –Ω–µ—Ç –æ—à–∏–±–æ–∫
4. ‚úÖ –í –ë–î 201 –∑–∞–ø–∏—Å—å

---

## üìä –§–æ—Ä–º–∞—Ç Excel —Ñ–∞–π–ª–∞

–§–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–ª–æ–Ω–∫–∏:

| –í–æ–ø—Ä–æ—Å | –û—Ç–≤–µ—Ç | –ö–∞—Ç–µ–≥–æ—Ä–∏—è |
|--------|-------|-----------|
| –ö–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å? | –ù–∞–∂–º–∏—Ç–µ "–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å"... | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è |
| –ù–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫–æ–¥ | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–∞–º... | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å |

---

## üîç –û—Ç–ª–∞–¥–∫–∞

**–í–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏:**
```bash
# Frontend
docker-compose -f docker-compose.dev.yml logs -f frontend | grep -i error

# Backend  
docker-compose -f docker-compose.dev.yml logs -f backend | grep -i error

# –í—Å–µ –æ—à–∏–±–∫–∏
docker-compose -f docker-compose.dev.yml logs | grep -i -E "(error|exception|failed)"
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã:**
- F12 ‚Üí Network ‚Üí Filter: XHR
- –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å: `POST /api/v1/faq/import`
- Status: 200 OK
- Response: `{"status":"ok","inserted":201}`

---

**–î–∞—Ç–∞:** –û–∫—Ç—è–±—Ä—å 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
